{% extends "site_base.html" %}

{% load staticfiles %}
{% load i18n %}
{% load bootstrap_tags %}

{% block head_title %}{% trans "Filter demo" %}{% endblock %}

{% block extra_head %}


<link rel="stylesheet" href="http://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css" />
<link rel="stylesheet" href="{% static 'css/chosen.css' %}" />

<style>



</style>
{% endblock %}

{% block body_class %}work{% endblock %}

{% block body_base %}
    <div class="container">
        {% include "_messages.html" %}
        <div>
            <legend>
                {% trans "Value Equation Bucket Filter demo" %}
            </legend>
            <p>
                Filter set: {{ filter_set }}, Context agent: {{ context_agent }}, Event type: {{ event_type }}, Pattern: {{ pattern }}
            </p>
            
            <form id="filterForm" action="." method="POST" >
                {% csrf_token %}
                {{ filter_form|as_bootstrap }}
                <input type="submit" name="submit" class="btn btn-info" style="display: inline; vertical-align: top;" value="{% trans 'Submit' %}" />
            </form>
            
            {% if events %}
                <div>
                    {% for event in events %}
                        <p>
                            {{ event }} Context agent: {{ event.context_agent }}
                            {% if event.process %}
                                Process Type: {{ event.process.process_type }}
                            {% endif %}
                        </p>
                    {% endfor %}
                </div>
            {% endif %}

        </div>
    </div>
{% endblock %}
{% block extra_script %}
    <script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
    <script src="{% static 'js/chosen.jquery.js' %}"></script>
{% endblock %}

{% block extra_body %}
    {{ block.super }}

    <script type="text/javascript">

    $(document).ready(function(){

        $(".chzn-select").chosen();
        $('.date-entry').datepicker({ dateFormat: "yy-mm-dd" });

        $( "#help" ).toggle( function(){
            $('#help-content').show("slide", { direction: "right" }, "slow" ); 
            $( "#help" ).text("Hide Help");
        }, function() {
            $('#help-content').hide("slide", { direction: "right" }, "slow");
            $( "#help" ).text("Show Help");
        })

    }); // end document.ready
    
    </script>

{% endblock %}
