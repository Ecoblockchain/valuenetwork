{% extends "site_base.html" %}

{% load i18n %}
{% load url from future %}
{% load bootstrap_tags %}


{% block head_title %}{% trans "Log Unscheduled Time Contributions" %}{% endblock %}

{% block extra_head %}

<link rel="stylesheet" href="http://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css" />

<style>

.days, .hours, .minutes 
{
	width: 18px;
}

.item-description
{
	width: 20em;
    height: 40px;
}
.item-date
{
	width: 70px;
}

.headings
{
    background: lightgrey;
}

</style>

{% endblock %}

{% block body_class %}log{% endblock %}

{% block body_base %}
<div class="container">
	<legend>{% trans "Log Unscheduled Time Contributions for " %} {{ member.name }}</legend>
	<p>Both Date and Time spent are required for a contribution to be saved.</p>

    <form method="POST" action=".">
	    {% csrf_token %}
	    {{ time_formset.management_form }}
	    <table class="table table-bordered table-condensed table-hover">
	        <thead>
	            <tr class="headings">
	                <th>{% trans "Date" %}</th>
	                <th>{% trans "Type of work" %}</th>
	                <th>{% trans "Project" %}</th>
	                <th>{% trans "Time spent" %}</th>
	                <th>{% trans "URL" %}</th>
	                <th>{% trans "Description" %}</th>
	            </tr>
	        </thead>
	        <tbody>
	        {% for form in time_formset %}
	            <tr>
	                <td>{{ form.event_date }}</td>
	                <td>{{ form.resource_type }}</td>
	                <td>{{ form.project }}</td>
	                <td>
	                    {{ form.quantity }}</br>
	                    {{ form.quantity.help_text }}
                    </td>
                	<td>{{ form.url }}</td>
	                <td>{{ form.description }}</td>
	            </tr>
           	{% endfor %}
            </tbody>
        </table>
        <div class="row-fluid">
            <div class="span9"></div>
            <div class="span3" >
			    <input type="submit" name="save" value="{% trans 'Save' %}" class="btn btn-primary" /> 
			    <input type="submit" name="keep-going" value="{% trans 'Save and add more' %}" class="btn btn-primary" />
			</div>
	   	</div>

    </form>

</div>
{% endblock %}
{% block extra_script %}
	<script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.10.0/jquery.validate.min.js"></script>
	<script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
{% endblock %}

{% block extra_body %}
	{{ block.super }}

    <script type="text/javascript">

    $(document).ready(function(){

        $('.date-entry').datepicker({ dateFormat: "yy-mm-dd" });

    }); // end document.ready

    </script>
    
{% endblock %}
